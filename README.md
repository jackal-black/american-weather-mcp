# American Weather MCP Server v2.0

一个功能强大的天气 MCP (Model Context Protocol) 服务器，提供美国地区的实时天气数据、警报信息和预报服务。

## 🌟 主要功能

### 1. 天气警报查询 (`get-alerts`)
- 获取美国任意州的活跃天气警报
- 支持洪水、暴风雨、高温等各类气象警报
- 按严重程度自动排序
- 提供警报统计和分类信息

### 2. 详细天气预报 (`get-forecast`)
- 基于经纬度坐标获取7天天气预报
- 包含温度（华氏度和摄氏度）、风速、风向、天气状况
- 支持美国境内任意位置
- 数据来源：美国国家气象局 (NWS)

### 3. 城市天气查询 (`get-city-forecast`)
- 支持50+美国主要城市的快速天气查询
- 预置常用城市坐标，无需手动输入经纬度
- 支持城市别名（如 NYC, LA, SF 等）
- 显示3天详细预报

### 4. 当前天气状况 (`get-current-weather`)
- 获取实时天气观测数据
- 包含温度、湿度、风速、风向、能见度、气压
- 显示观测站信息和观测时间
- 提供详细的当前天气描述

### 5. 天气摘要 (`get-weather-summary`)
- 综合显示指定州的天气概况
- 结合警报信息和主要城市天气
- 提供快速的整体天气状况评估

## 🚀 新增特性

### 智能缓存系统
- 5分钟数据缓存，减少API调用
- 提高响应速度和系统稳定性
- 自动缓存管理

### 城市坐标数据库
- 内置50+美国主要城市坐标
- 支持多种城市名称格式
- 包含城市别名和简称

### 增强的数据格式化
- 温度同时显示华氏度和摄氏度
- 使用表情符号增强可读性
- 结构化的信息展示
- 错误信息更加友好

### 改进的错误处理
- 详细的错误信息和建议
- 网络异常自动重试机制
- 用户友好的错误提示

## 📋 支持的城市

包括但不限于：
- **加州**: Los Angeles, San Francisco, San Diego, Sacramento, San Jose
- **纽约**: New York City
- **德州**: Houston, Dallas, Austin, San Antonio
- **佛州**: Miami, Tampa, Jacksonville
- **其他**: Chicago, Phoenix, Philadelphia, Seattle, Denver, Boston 等

## 🛠 使用方法

### 在 Augment 中使用

1. **查询天气警报**：
   ```
   请查询加州的天气警报
   检查德克萨斯州有哪些活跃的天气警报
   ```

2. **城市天气查询**：
   ```
   纽约市的天气怎么样？
   请查看洛杉矶的天气预报
   Sacramento 的天气如何？
   ```

3. **坐标天气查询**：
   ```
   请查询纽约市（纬度40.7128，经度-74.0060）的天气预报
   ```

4. **当前天气状况**：
   ```
   请查看旧金山的当前天气状况
   ```

5. **天气摘要**：
   ```
   给我一个加州的天气摘要
   ```

## 🔧 技术特性

- **数据源**: 美国国家气象局 (NWS) 官方API
- **缓存**: 5分钟智能缓存
- **覆盖范围**: 美国全境
- **更新频率**: 实时数据
- **响应格式**: 结构化文本，支持 Markdown

## 📊 版本历史

### v2.0.0 (当前版本)
- ✅ 新增城市天气查询功能
- ✅ 新增当前天气状况查询
- ✅ 新增天气摘要功能
- ✅ 添加智能缓存系统
- ✅ 内置城市坐标数据库
- ✅ 改进数据格式化和错误处理
- ✅ 增强用户体验

### v1.0.0
- ✅ 基础天气警报查询
- ✅ 基础天气预报查询

## 🌐 数据来源

本服务使用美国国家气象局 (National Weather Service) 的官方API：
- 警报数据：`https://api.weather.gov/alerts`
- 预报数据：`https://api.weather.gov/points` 和 `https://api.weather.gov/gridpoints`
- 观测数据：`https://api.weather.gov/stations`

## ⚠️ 使用限制

- 仅支持美国境内的天气数据
- 需要网络连接访问 NWS API
- 某些偏远地区可能缺少观测站数据
- API 调用频率受 NWS 服务器限制

## 🎯 最佳实践

1. **使用城市名称查询**：优先使用 `get-city-forecast` 查询常见城市
2. **组合使用工具**：先用 `get-weather-summary` 获取概览，再用具体工具获取详情
3. **关注警报信息**：定期检查 `get-alerts` 获取重要天气警报
4. **验证坐标**：使用坐标查询时确保位置在美国境内

---

**开发者**: Enhanced Weather MCP Server Team  
**版本**: 2.0.0  
**最后更新**: 2025年7月
